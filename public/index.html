<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bienvenue - Site du Club</title>
    <link rel="stylesheet" href="/styles.css">
    <link rel="stylesheet" href="/css/welcome.css">
    <link rel="stylesheet" href="/css/auth.css">
</head>
<body>
    <div class="container">
        <header class="topbar">
            <div class="brand">
                <h1>Site du Club</h1>
                <span class="tag">Communauté • Événements • Chat</span>
            </div>
            <nav class="nav">
                <a href="/" class="nav-btn">Accueil</a>
                <a href="/chat.html" class="nav-btn">Chat</a>
                <a href="/checklist.html" class="nav-btn">Listes</a>
                <a href="/lounge.html" class="nav-btn">Salon</a>
                <a href="/admin.html" class="nav-btn admin-only">Admin</a>
                <a href="/creator.html" class="nav-btn creator-only">Créateur</a>
            </nav>
            <div id="user-status" class="user-status"></div>
        </header>

        <main class="welcome-page">
            <div class="hero">
                <h1>Bienvenue au Club</h1>
                <p class="lead">Votre centre de communication et d'organisation d'équipe</p>
                
                <div class="features-grid">
                    <div class="feature">
                        <h3>Chat en Temps Réel</h3>
                        <p>Connectez-vous instantanément avec les membres via notre système de chat 24/7</p>
                        <a href="/chat.html" class="feature-link">Ouvrir le Chat</a>
                    </div>
                    
                    <div class="feature">
                        <h3>Gestion des Tâches</h3>
                        <p>Créez et gérez des listes de contrôle partagées pour suivre la progression</p>
                        <a href="/checklist.html" class="feature-link">Voir les Listes</a>
                    </div>
                    
                    <div class="feature">
                        <h3>Tableau d'Annonces</h3>
                        <p>Restez informé des annonces officielles dans le salon</p>
                        <a href="/lounge.html" class="feature-link">Visiter le Salon</a>
                    </div>
                </div>
            </div>

            <section class="auth-panel" id="auth-section">
                <div class="panel-header">
                    <h2>Commencer</h2>
                    <div class="panel-sub">Connectez-vous ou inscrivez-vous pour accéder aux fonctionnalités</div>
                </div>
                <div id="auth" class="auth">
                    <input id="username" placeholder="Nom d'utilisateur">
                    <input id="password" type="password" placeholder="Mot de passe">
                    <input id="register-code" placeholder="Code d'inscription (nouveaux utilisateurs)">
                    <div class="auth-buttons">
                        <button id="login-btn" class="primary">Connexion</button>
                        <button id="register-btn" class="secondary">S'inscrire</button>
                    </div>
                    <button id="logout-btn" class="link" style="display:none">Déconnexion</button>
                </div>
            </section>
        </main>
    </div>
    <script src="/socket.io/socket.io.js"></script>
    <script src="/js/shared.js"></script>
    <script>
        // Show admin button if user has proper role
        async function checkAdminAccess() {
            const auth = await checkAuth();
            const adminBtn = document.querySelector('.admin-only');
            if (auth.role === 'admin' || auth.role === 'creator') {
                adminBtn.style.display = '';
            }
        }
        document.addEventListener('DOMContentLoaded', checkAdminAccess);
    </script>
</body>
</html>
